import 'package:easy_localization/easy_localization.dart';
import 'package:flutter/material.dart';
import 'package:quran_app/core/assets/app_images.dart';
import 'package:quran_app/core/custom_widgets/bottomIconImage.dart';
import 'package:quran_app/core/extensions/extension.dart';

import 'hadith.dart';
import 'payer_times.dart';
import 'quran.dart';
import 'sepha.dart';
import 'settings.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});
  static const String routeName = 'Home Screen';

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  int currentScreen = 0;

  dynamic screens = [
    const PrayerTimesScreen(),
    const QuranScreen(),
    const HadithScreen(),
    const TasbeehScreen(),
    const SettingsScreen(),
  ];

  @override
  Widget build(BuildContext context) {
    List<String> titles = [
      context.prayerTimes,
      context.quran,
      context.hadeth,
      context.sepha,
      context.settings,
    ];
    return SafeArea(
      child: Scaffold(
        // appBar: AppBar(
        //   title: Text(
        //     titles[currentScreen],
        //     style: TextStyle(color:  Color(0xFFb7935f),fontWeight: FontWeight.bold, fontSize: 25),
        //   ),
        //   backgroundColor:Colors.transparent,
        //   elevation: 0,
        //   centerTitle: true,
        // ),
        body: Container(
          decoration: BoxDecoration(
            image: DecorationImage(
              image: AssetImage(AppImages.backgroundLight),
              fit: BoxFit.cover,
            ),
          ),
          child: Center(child: screens[currentScreen]),
        ),
        bottomNavigationBar: BottomNavigationBar(
          backgroundColor: const Color(0xFFb7935f),
          selectedLabelStyle: const TextStyle(fontSize: 13),
          unselectedLabelStyle: const TextStyle(fontSize: 12),
          selectedItemColor: Colors.white,
          unselectedItemColor: Colors.black,
          currentIndex:
              currentScreen, // it is very important to make change in style of label
          onTap: (int index) {
            setState(() {
              currentScreen = index;
            });
          },
          items: [
            BottomNavigationBarItem(
              icon: BottomIconsImage(imageName: AppImages.mosqueImage),
              label: context.prayerTimes,
            ),
            BottomNavigationBarItem(
              icon: BottomIconsImage(imageName: AppImages.quranImage),
              label: context.quran,
            ),
            BottomNavigationBarItem(
              icon: BottomIconsImage(imageName: AppImages.hadithImage),
              label: context.hadeth,
            ),
            BottomNavigationBarItem(
              icon: BottomIconsImage(imageName: AppImages.sephaImage),
              label: context.sepha,
            ),
            BottomNavigationBarItem(
              icon: const Icon(Icons.settings, size: 28, color: Colors.white),
              label: context.settings,
            ),
          ],
          //very important
          type:
              BottomNavigationBarType
                  .fixed, // This ensures all items are fixed and the background color is applied correctly
        ),
      ),
    );
  }
}
